{% extends "base.html.twig" %}

{% block title "Toutes les recettes" %}

{% block body %}

    <p>
      Lorem ipsum dolor sit amet consectetur, adipisicing elit. Harum debitis, fugiat recusandae quia nemo ipsa laboriosam beatae ducimus nostrum quis dignissimos maxime omnis? Temporibus repudiandae similique aut, doloremque ad assumenda?
    </p>
    <a href="{{ path('recipe.add') }}" class="btn btn-primary my-2">Ajouter un recette</a>

    <table class="table table-over">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">recettes</th>
            <th scope="col">Modifier</th>
            <th scope="col">Supprimer</th>
          </tr>
        </thead>
        <tbody>
            {% for recipe in recipes %}
                <tr>
                    <th scope="row">1</th>
                    <td>
                        <a href="{{ path('recipe.show', {id: recipe.id, slug: recipe.slug}) }}">{{ recipe.title}}</a>
                    </td>
                    <td>
                        <a class="btn btn-warning" href="{{ path('recipe.edit', {'id': recipe.id}) }}">Modifier</a>
                    </td>
                    <td>
                        {# forc√© la methode de suppression sur DELETE #}
                        <form action="{{ path('recipe.delete', {'id': recipe.id}) }}" method="POST">
                            {# pour que cette config marche, on a modifier le fichier config/packages/framework.yaml #}
                            <input type="hidden" name="_method" value="DELETE">

                            <button class="btn btn-danger" type="submit">Supprimer</button>
                        </form>
                       
                    </td>
                </tr>
              
          {% endfor %}
        </tbody>
      </table>
{% endblock body %}